mutate(exp_to_target_lang = case_when(trial_lang == "english" ~ eng_exp,
trial_lang == "french" ~ fre_exp))
View(kbh_data_clean)
View(kbh_data_clean)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, trial_side, distractor_side)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, target_side, distractor_side)
View(prop_looking_diff)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
select(recording_name, subject_id, trial_number, media_name, target_side, distractor_side)
View(prop_looking_diff)
?pivot_wider
library(tidyverse)
?pivot_wider
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
select(recording_name, subject_id, trial_number, media_name, target_side, distractor_side) %>%
pivot_wider(names_from = target_side)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
select(recording_name, subject_id, trial_number, media_name, target_side, distractor_side, target)
View(prop_looking_diff)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
select(recording_name, subject_id, trial_number, media_name, target_side, target)%>%
pivot_wider(names_from = target_side, values_from = target)
View(prop_looking_diff)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
select(recording_name, subject_id, trial_number, media_name, target_side, target)
View(prop_looking_diff)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
select(recording_name, subject_id, trial_number, media_name, target_side, target)%>%
mutate(right_image = case_when(target_side == "R" ~ "Target",
target_side == "L"~ "Distractor"))
View(prop_looking_diff)
unique(prop_looking_diff$right_image)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
select(recording_name, subject_id, trial_number, media_name, target_side, target)%>%
mutate(right_image = case_when(target_side == "R" ~ "Target",
target_side == "L"~ "Distractor")) %>%
mutate(left_image = case_when(target_side == "L" ~ "Target",
target_side == "R"~ "Distractor"))
View(prop_looking_diff)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
select(recording_name, subject_id, trial_number, media_name, target_side, target)%>%
mutate(right_image = case_when(target_side == "R" ~ "Target",
target_side == "L"~ "Distractor")) %>%
mutate(left_image = case_when(target_side == "L" ~ "Target",
target_side == "R"~ "Distractor")) %>%
#calculate how many times target looking was TRUE/TRUE + FALSE when right image was target by each media name
group_by(media_name, target, right_image, left_image) %>%
summarise(samples_total=sum(target==TRUE, target==FALSE ),
samples_target=sum(target))
View(prop_looking_diff)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
select(recording_name, subject_id, trial_number, media_name, target_side, target)%>%
mutate(right_image = case_when(target_side == "R" ~ "Target",
target_side == "L"~ "Distractor")) %>%
mutate(left_image = case_when(target_side == "L" ~ "Target",
target_side == "R"~ "Distractor")) %>%
#calculate how many times target looking was TRUE/TRUE + FALSE when right image was target by each media name
group_by(media_name, target, right_image, left_image) %>%
summarise(samples_total=sum(target==TRUE, target==FALSE ),
samples_target=sum(target)) %>%
mutate(proportions = samples_target/samples_total)
View(prop_looking_diff)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
select(recording_name, subject_id, trial_number, media_name, target_side, target)%>%
mutate(right_image = case_when(target_side == "R" ~ "Target",
target_side == "L"~ "Distractor")) %>%
mutate(left_image = case_when(target_side == "L" ~ "Target",
target_side == "R"~ "Distractor")) %>%
#calculate how many times target looking was TRUE/TRUE + FALSE when right image was target by each media name
group_by(media_name, right_image, left_image) %>%
summarise(samples_total=sum(target==TRUE, target==FALSE ),
samples_target=sum(target)) %>%
mutate(proportions = samples_target/samples_total)
View(prop_looking_diff)
prop_looking_diff <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
select(recording_name, subject_id, trial_number, media_name, target_side, target)%>%
mutate(right_image = case_when(target_side == "R" ~ "Target",
target_side == "L"~ "Distractor")) %>%
mutate(left_image = case_when(target_side == "L" ~ "Target",
target_side == "R"~ "Distractor")) %>%
#calculate how many times target looking was TRUE/TRUE + FALSE when right image was target by each media name
group_by(recording_name, media_name, right_image, left_image) %>%
summarise(samples_total=sum(target==TRUE, target==FALSE ),
samples_target=sum(target)) %>%
mutate(proportions = samples_target/samples_total)
View(prop_looking_diff)
knitr::opts_chunk$set(echo = TRUE)
library(here)
library(dplyr)
library(stringr)
library(Hmisc)
library(corrplot)
library(tidyverse)
load(here("clean_data/arch_final.Rda"))
kbh_data_clean <- arch_final%>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000, #Substracting noun onset to normalize
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
rename(target_side=target, distractor_side=distractor,
gaze_point_x= gaze_point_x_adc_spx,
gaze_point_y = gaze_point_y_adc_spx)%>%
filter(gaze_point_x>=0 & gaze_point_x<= 1920)%>% #keeps only observations that are in the screen
filter(gaze_point_y>=0 & gaze_point_y<=1200)%>%
filter(!is.na(gaze_point_x))%>% #gets rid of the observations where tobii didn't get any reading
filter(!is.na(gaze_point_y))%>%
filter(!is.na(validity_left)) %>%
filter(!is.na(validity_right)) %>%
filter(validity_left<= 1)%>%
filter(validity_right <= 1)%>%
mutate(target = case_when(gaze_point_x >= target_x_min&gaze_point_x <= target_x_max&gaze_point_y >= target_y_min&gaze_point_y <= target_y_max~TRUE,
TRUE~FALSE))
#Create trial language column to describe the language in which the babies were tested
kbh_data_clean <- kbh_data_clean %>%
ungroup()%>%
group_by(studio_test_name, eng_exp, fre_exp)%>%
mutate(trial_lang = case_when(str_detect(studio_test_name,"E")~ "english",
str_detect(studio_test_name, "F")~ "french")) %>%
mutate(exp_to_target_lang = case_when(trial_lang == "english" ~ eng_exp,
trial_lang == "french" ~ fre_exp))
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
filter(target == TRUE)
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0))%>%
#9. Proportion of fixation duration
#Proportion of all periods of fixation during the window of analyses within a trial.
#I guess this means like 3 periods of fixation out of 10 periods?
#10. Pupil dilation
#Baseline pupil size in the 200ms before noun onset and then subtracted the baseline from the pupil size measurements on each trial.
#I need the pupil data for this
#11. Duration of first look
### Duration of the first look recorded toward a particular AOI.
first_look_duration <- kbh_data_clean  %>%
filter(noun_onset >= 360 & noun_onset <= 3000) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(AOI_switches == 1) %>%
group_by(recording_name, subject_id, trial_number, media_name,noun_onset) %>%
summarise() %>%
arrange(recording_name, trial_number, by_group = T) %>%
mutate(number_of_trial_instance = row_number()) %>%  #I only want to keep the first instance of switch because I am only interested in the duration of the very first look during the trial analyses window.
filter(number_of_trial_instance == 1) %>%
mutate(first_look_dur = noun_onset - 360)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0))
View(mean_fixation_dur)
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches = 0)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
!filter(AOI_switches = 0)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(AOI_switches = 0)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0)
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| AOI_switches==NA)
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_months, exp_to_target_lang)%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
group_by(media_name, recording_name) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
group_by(media_name, recording_name, noun_onset, target, AOI_switches) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
#group_by(media_name, recording_name, noun_onset, target, AOI_switches) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
#group_by(media_name, recording_name, noun_onset, target, AOI_switches) %>%
#summarise(duration_of_look = min(noun_onset) - max(noun_onset))
#9. Proportion of fixation duration
#Proportion of all periods of fixation during the window of analyses within a trial.
#I guess this means like 3 periods of fixation out of 10 periods?
#10. Pupil dilation
#Baseline pupil size in the 200ms before noun onset and then subtracted the baseline from the pupil size measurements on each trial.
#I need the pupil data for this
#11. Duration of first look
### Duration of the first look recorded toward a particular AOI.
first_look_duration <- kbh_data_clean  %>%
filter(noun_onset >= 360 & noun_onset <= 3000) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(AOI_switches == 1) %>%
group_by(recording_name, subject_id, trial_number, media_name,noun_onset) %>%
summarise() %>%
arrange(recording_name, trial_number, by_group = T) %>%
mutate(number_of_trial_instance = row_number()) %>%  #I only want to keep the first instance of switch because I am only interested in the duration of the very first look during the trial analyses window.
filter(number_of_trial_instance == 1) %>%
mutate(first_look_dur = noun_onset - 360)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
ungroup()%>%
group_by(media_name, recording_name, AOI_switches, noun_onset, target) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
ungroup()%>%
group_by(media_name, AOI_switches, noun_onset, target) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
ungroup()
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(AOI_switches == NA ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter"))
unique(mean_fixation_dur$duration_parameters)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(AOI_switches == "NA" ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter"))
unique(mean_fixation_dur$duration_parameters)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter"))
unique(mean_fixation_dur$duration_parameters)
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter")) %>%
ungroup()%>%
group_by(recording_name, subject_id, duration_parameters, noun_onset) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter")) %>%
ungroup()%>%
group_by(recording_name, subject_id, media_name, duration_parameters, noun_onset) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter")) %>%
ungroup()%>%
group_by(duration_parameters, noun_onset) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter")) %>%
ungroup()%>%
group_by(duration_parameters, recording_name, subject_id, trial_number, media_name, noun_onset) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter")) %>%
ungroup()%>%
group_by(AOI_switches, duration_parameters, recording_name, subject_id, trial_number, media_name, noun_onset) %>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter"))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter"))%>%
ungroup()%>%
summarise(duration_of_look = min(noun_onset) - max(noun_onset))
View(mean_fixation_dur)
mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(AOI_switches = ifelse(target == TRUE & lag(target) == FALSE | target == FALSE & lag(target) == TRUE, 1, 0)) %>%
filter(!AOI_switches == 0| is.na(AOI_switches)) %>%
mutate(duration_parameters = case_when(is.na(AOI_switches) ~ "trial look start",
AOI_switches == 1 & target =="FALSE"~ "end looking to target",
AOI_switches == 1 & target =="TRUE"~ "end looking to distracter"))
View(mean_fixation_dur)
mean_fixation_dur2.0<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name)
View(mean_fixation_dur2.0)
mean_fixation_dur2.0<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target==TRUE ~ noun_onset,
TRUE~ "away from target"))
mean_fixation_dur2.0<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target=="TRUE" ~ noun_onset,
TRUE~ "away from target"))
mean_fixation_dur2.0<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target=="TRUE" ~ noun_onset,
target=="FALSE" ~ "away from target"))
mean_fixation_dur2.0<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target==TRUE ~ noun_onset,
target==FALSE ~ "away from target"))
mean_fixation_dur2.0<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target==TRUE ~ noun_onset))
View(mean_fixation_dur2.0)
mean_fixation_dur<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target==TRUE ~ noun_onset)) %>%
mutate(duration_of_look= looks_target_time_stamp - lag(looks_target_time_stamp, default = first(looks_target_time_stamp)))
View(mean_fixation_dur)
386-369
403-386
419-403
?summarise
mean_fixation_dur<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target==TRUE ~ noun_onset)) %>%
mutate(duration_of_look= looks_target_time_stamp - lag(looks_target_time_stamp, default = first(looks_target_time_stamp))) %>%
summarise(target_fixation_duration = sum(looks_target_time_stamp))
View(mean_fixation_dur)
mean_fixation_dur<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target==TRUE ~ noun_onset)) %>%
mutate(duration_of_look= looks_target_time_stamp - lag(looks_target_time_stamp, default = first(looks_target_time_stamp))) %>%
summarise(target_fixation_duration = sum(looks_target_time_stamp, na.rm=T))
View(mean_fixation_dur)
171057/1000
171/60
mean_fixation_dur<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target==TRUE ~ noun_onset)) %>%
mutate(duration_of_look= looks_target_time_stamp - lag(looks_target_time_stamp, default = first(looks_target_time_stamp))) # %>%
View(mean_fixation_dur)
1052-369
17+17+16+17+17+16+17+17+16+17+17+16+17+16+17+17+16+17+17+16+17+17+16+17+17+16
mean_fixation_dur<- mean_fixation_dur <- kbh_data_clean %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name) %>%
mutate(looks_target_time_stamp = case_when(target==TRUE ~ noun_onset)) %>%
mutate(duration_of_look= looks_target_time_stamp - lag(looks_target_time_stamp, default = first(looks_target_time_stamp))) %>%
summarise(target_fixation_duration = sum(duration_of_look, na.rm=T))
1683/1000
