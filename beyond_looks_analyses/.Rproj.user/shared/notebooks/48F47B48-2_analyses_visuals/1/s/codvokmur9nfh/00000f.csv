"0",""
"0","kbh_data_clean <- arch_final%>%"
"0","  group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%"
"0","  mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%"
"0","  group_by(studio_project_name)%>%"
"0","  mutate(noun_onset = case_when(studio_project_name==""CompMix-36""~trial_from_zero-3000, #Substracting noun onset to normalize"
"0","                                studio_project_name==""LearnMix-36""~trial_from_zero-4500,"
"0","                                studio_project_name==""Mix-20""~trial_from_zero-5400,"
"0","                                studio_project_name==""Mix-14""~trial_from_zero-5400,"
"0","                                studio_project_name==""CogMisp-24""~trial_from_zero-1500))%>%"
"0","  ungroup()%>%"
"0","  rename(target_side=target, distractor_side=distractor,"
"0","         gaze_point_x= gaze_point_x_adc_spx, "
"0","         gaze_point_y = gaze_point_y_adc_spx)%>%"
"0","  mutate(trackloss = case_when(gaze_point_x<0 ~ TRUE,"
"0","                               gaze_point_x> 1920 ~ TRUE,"
"0","                               gaze_point_y<0 ~ TRUE,"
"0","                               gaze_point_y > 1200 ~ TRUE,"
"0","                               is.na(gaze_point_x) ~ TRUE,"
"0","                               is.na(gaze_point_y) ~ TRUE,"
"0","                               is.na(validity_left) ~ TRUE,"
"0","                               is.na(validity_right) ~ TRUE,"
"0","                               validity_left > 1 ~ TRUE,"
"0","                               validity_right > 1 ~ TRUE,"
"0","                               TRUE~ FALSE)) %>% #MAKE VISUALIZATIONS ABOUT TRACKLOSS FOR SANITY CHECK"
"0","  mutate(target = case_when(gaze_point_x >= target_x_min&gaze_point_x <= target_x_max&gaze_point_y >= target_y_min&gaze_point_y <= target_y_max~TRUE, "
"0","                            TRUE~FALSE)) %>%"
"0","  mutate(distractor = case_when(gaze_point_x >= distractor_x_min&gaze_point_x <= distractor_x_max&gaze_point_y >= distractor_y_min&gaze_point_y <= distractor_y_max~TRUE, "
"0","                                 TRUE ~ FALSE))"
"0",""
"0","#Create trial language column to describe the language in which the babies were tested"
"0","kbh_data_clean <- kbh_data_clean %>%"
"0","  ungroup()%>%"
"0","  group_by(studio_test_name, eng_exp, fre_exp)%>%"
"0","  mutate(trial_lang = case_when(str_detect(studio_test_name,""E"")~ ""english"","
"0","                                str_detect(studio_test_name, ""F"")~ ""french"")) %>%"
"0","  mutate(exp_to_target_lang = case_when(trial_lang == ""english"" ~ eng_exp,"
"0","                                        trial_lang == ""french"" ~ fre_exp))"
"0",""
